<!DOCTYPE html>

<head>
    <!-- Meta Tag -->
    <title>Enhao | Web Developer</title>
    <meta charset="UTF-8">
    <meta name="description" content="Enhao | Web Developer">
    <meta name="keywords" content="personal, portfolio, enhao, web developer, enhaotech">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Link  -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
    <link rel='stylesheet prefetch' href='http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css'>
    <link href="css/dashboard.css" rel="stylesheet">
    <link href="css/radio.css" rel="stylesheet">
    
    <style>
        /*CSS Styling*/
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
          -webkit-appearance: none; 
          margin: 0; 
        }
        .form-group{
            margin-bottom: 20px;
        }
        .error_msg{
            color: red; 
            display: none;
        }
        .tb_field{
            height: 2.4em;
            font-size: 1.2em;
        }
        .input-group{
            width: 100%;
        }
        #submitbtn, #back_btn{
            width:100%; 
            margin-bottom: 10px; 
            background-color: #1fa6a8; 
            color: white;
            font-size: 1.5em;
        }
        #submitbtn:hover{
            border:1.5px solid green;
        }
        #checklist_value{
            font-size: 25px; 
            padding: 4px 10px; 
            font-weight: bolder;
        }
        @media (max-width: 767px) {
            #checklist_value{font-size: 36px;}
        }
        @media (max-width:900px){
            h2{font-size: 1.8em;}
        }
    </style>
</head>

<body>
    <!-- Body content -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid" style="background-color: #1fa6a8;">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html" style="color:white;">EnhaoTECH</a>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <div class="main">
                <h1 class="page-header" style="text-align: center;">Stock Checklist</h1>
                <form class="form-horizontal" id="bmi_form" onsubmit="return false" >
                    <!-- Row 1 -->
                    <div class="form-group" style="margin-bottom: 25px;">
                        <label class="control-label col-sm-2 col-sm-offset-2" for="pe_ratio">PE Ratio</label>
                        <div class="col-sm-6"> 
                            <div class="input-group"> 
                                <input value="15" class="form-control tb_field" id="pe_ratio" name="pe_ratio" type="number" >
                            </div>
                            <span id="loan_amt_error" class="error_msg">Please enter a valid number</span>
                        </div>
                    </div>
                    <!-- Row 2 -->
                    <div class="form-group" style="margin-bottom: 25px;">
                        <label class="control-label col-sm-2 col-sm-offset-2" for="pb_ratio" id="pb_text">P/B Ratio</label>
                        <div class="col-sm-6"> 
                            <div class="input-group">
                                <input value="2" class="form-control tb_field" id="pb_ratio" name="pb_ratio" type="number" >
                            </div>
                        </div>
                    </div>
                    <!-- Row 3 -->
                    <div class="form-group" style="margin-bottom: 25px;">
                        <label class="control-label col-sm-2 col-sm-offset-2" for="current_ratio" id="current_text">Current Ratio</label>
                        <div class="col-sm-6"> 
                            <div class="input-group">
                                <input value="1" class="form-control tb_field" id="current_ratio" name="current_ratio" type="number" >
                            </div>
                        </div>
                    </div>
                    <!-- Row 4 -->
                    <div class="form-group" style="margin-bottom: 25px;">
                        <label class="control-label col-sm-2 col-sm-offset-2" for="net_income" id="income_text">Net Income for past 4 years</label>
                        <div class="col-sm-6"> 
                            <div class="input-group">
                                <input value="4" class="form-control tb_field" id="net_income" name="net_income" type="number" >
                            </div>
                        </div>
                    </div>
                    <!-- Row 5 -->
                    <div class="form-group" style="margin-bottom: 25px;">
                        <label class="control-label col-sm-2 col-sm-offset-2" for="eps_ratio" id="eps_text">EPS for the past 4 years</label>
                        <div class="col-sm-6"> 
                            <div class="input-group">
                                <input value="4" class="form-control tb_field" id="eps_ratio" name="eps_ratio" type="number" >
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-4 col-sm-push-6">
                        <button id="submitbtn" type="submit" class="btn btn-default">Next</button>
                    </div>
                </form>
                <div id="user_result" style="display: none;">
                    <img class="col-xs-8 col-xs-offset-2 col-sm-3 col-sm-offset-2" src="images/scale.png" alt="Weighting Scale">
                    <div class="col-xs-12 col-sm-5">
                        <h2 style="text-align: center; padding-bottom: 15px;">Stock Checklist Score</h2>
                        <div class="col-sm-12" style="border-bottom: 1px solid #b1b2b5; text-align: center;">
                            <label class="col-sm-6">Your BMI:</label>
                            <span id="checklist_value" class="col-sm-6"></span>
                        </div>
                            <span class="col-sm-12" style="height: 20px; display: inline-block;">&nbsp;</span>
                            <span id="bmi_suggestion" class="col-xs-12" style="font-size: 24px;"></span>
                            <button id="back_btn" class="btn btn-default" style="margin-top: 12px;">Back</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Javascript Scripts or other scripts links -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>
    <!-- Change to currency format -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.3.4/jquery.inputmask.bundle.js"></script>

    <!-- Start Javascripts -->
    <script>
        $(document).ready(function() {

            // Submit BMI 
            $("#submitbtn").click(function(){

                // Caculations for BMI
                var results = Checklist_result()

                // Hide and display the appropriate information
                $("#bmi_form").hide()
                $("#user_result").css("display", "block")
                $("#checklist_value").text(results + " / 15")
            });

            $("#back_btn").click(function(){

                // Hide and display the appropriate information
                $("#bmi_form").show()
                $("#user_result").css("display", "none")
            });

            // BMI results class
            function Checklist_result(BMI){

                var total_points = 0;

                console.log($("#pe_ratio").val(), $("#pb_ratio").val(),$("#current_ratio").val(),$("#net_income").val(),$("#eps_ratio").val())

                // pe_ratio checklist
                if ($("#pe_ratio").val() <= 12){
                    total_points += 3
                }
                else if ($("#pe_ratio").val() > 12 && $("#pe_ratio").val() <= 13){
                    total_points += 2
                }
                else if ($("#pe_ratio").val() <= 15){
                    total_points += 1
                }

                // pb_ratio checklist
                if ($("#pb_ratio").val() <= 1){
                    total_points += 3
                }
                else if ($("#pb_ratio").val() > 1 && $("#pb_ratio").val() <= 1.5){
                    total_points += 2
                }
                else if ($("#pb_ratio").val() <= 2){
                    total_points += 1
                }

                // current_ratio checklist
                if ($("#current_ratio").val() >= 1.2 && $("#current_ratio").val() < 2){
                    total_points += 3
                }
                else if ($("#current_ratio").val() >= 1 && $("#current_ratio").val() <= 1.2){
                    total_points += 2
                }
                else if ($("#current_ratio").val() >= 0.8 && $("#current_ratio").val() <= 1){
                    total_points += 1
                }

                // net_income checklist
                if ($("#net_income").val() == 4){
                    total_points += 3
                }
                else if ($("#net_income").val() == 3){
                    total_points += 2
                }
                else if ($("#net_income").val() == 2){
                    total_points += 1
                }

                // eps_ratio checklist
                if ($("#eps_ratio").val() == 4){
                    total_points += 3
                }
                else if ($("#eps_ratio").val() == 3){
                    total_points += 2
                }
                else if ($("#eps_ratio").val() == 2){
                    total_points += 1
                }

                return total_points
            };

        });
    </script>
</body>